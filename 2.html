<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        li {
            height: 30px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body style="height:100%">
<ul>
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
</ul>
<script>

    //    let liList = document.querySelectorAll('li')
    //    for (var i = 0; i < liList.length; i++) {
    //
    //        liList[i].onclick = function () {
    //            console.log(i)
    //        }
    //    }


    var elements = document.getElementsByTagName('li');
    var length = elements.length;
    var handler = function (i) {
        return function () {
            alert(i);
        }
    }
    for (var i = 0; i < length; i++) {
        elements[i].onclick = handler(i);
    }
</script>
</body>
</html>